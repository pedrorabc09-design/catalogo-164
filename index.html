<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>CatÃ¡logo</title>

<style>
*{box-sizing:border-box;font-family:Arial}
body{margin:0;background:#f4f4f4}

/* HEADER */
header{
  background:#111;
  color:#fff;
  padding:15px;
  display:flex;
  align-items:center;
  gap:15px;
}
.logo img{
  height:90px;
  cursor:pointer;
}
.search-box{
  flex:1;
  display:flex;
  justify-content:center;
  position:relative;
}
.search-box input{
  width:60%;
  padding:10px;
  font-size:16px;
}
.menu-btn{
  margin-left:8px;
  font-size:22px;
  cursor:pointer;
}
.icons img{
  height:34px;
  margin-left:10px;
  cursor:pointer;
}

/* CATEGORIES */
#categories{
  position:absolute;
  top:60px;
  left:50%;
  transform:translateX(-50%);
  background:#fff;
  color:#000;
  border:1px solid #ccc;
  display:none;
  z-index:10;
}
#categories div{
  padding:10px;
  cursor:pointer;
}
#categories div:hover{
  background:#eee;
}

/* SECTIONS */
.section{padding:15px}
.section h2{margin:10px 0}

/* SLIDER */
.slider{
  display:flex;
  gap:12px;
  overflow-x:auto;
  scrollbar-width:none;
}
.slider::-webkit-scrollbar{display:none}

.card{
  min-width:220px;
  background:#fff;
  padding:10px;
  border-radius:6px;
  cursor:pointer;
  position:relative;
}
.card img{
  width:100%;
  height:140px;
  object-fit:contain;
}
.price{text-decoration:line-through;color:#888}
.final{font-weight:bold}
.badge{
  position:absolute;
  top:5px;
  left:5px;
  background:red;
  color:#fff;
  font-size:12px;
  padding:3px 6px;
}
.badge.orange{background:orange}
.badge.gray{background:#666}

/* MAIN */
#home{}
#detail{display:none;padding:20px}

/* RESPONSIVE */
@media(max-width:768px){
.search-box input{width:90%}
header{flex-wrap:wrap}
}
</style>
</head>

<body>

<header>
  <div class="logo" onclick="goHome()">
    <img src="logo.png">
  </div>

  <div class="search-box">
    <input id="search" placeholder="Buscar..." oninput="searchAll()">
    <div class="menu-btn" onclick="toggleCategories()">â˜°</div>

    <div id="categories"></div>
  </div>

  <div class="icons">
    <img src="whatsapp-logo.png">
    <img src="facebook.png">
  </div>
</header>

<div id="home"></div>
<div id="detail"></div>

<script>
/* ================= DATA ================= */
const DATA = {
 "MiniGT - Kaido House":[
  {
    name:"Mini GT Kaido House Nissan Skyline GT-R (R34) The Grasshopper",
    price:100,
    discount:10,
    finalPrice:90,
    stock:1,
    image:"imagenes/Grasshopper.webp"
  }
 ]
};

/* ================= RENDER ================= */
function renderAll(){
  const home=document.getElementById("home");
  home.innerHTML="";

  /* OFERTAS */
  const offers=[];
  Object.values(DATA).forEach(cat=>{
    cat.forEach(p=>{ if(p.discount) offers.push(p); });
  });

  if(offers.length){
    home.innerHTML+=`<div class="section"><h2>ðŸ”¥ Ofertas</h2>
      <div class="slider">
        ${offers.map(p=>cardHTML(p)).join("")}
      </div></div>`;
  }

  /* CATEGORÃAS */
  Object.keys(DATA).forEach(cat=>{
    home.innerHTML+=`
    <div class="section">
      <h2>${cat}</h2>
      <div class="slider">
        ${DATA[cat].map(p=>cardHTML(p)).join("")}
      </div>
    </div>`;
  });

  renderCategories();
}

function cardHTML(p){
  let badge="";
  if(p.stock<=0) badge=`<div class="badge gray">SIN STOCK</div>`;
  else if(p.stock===1) badge=`<div class="badge orange">ÃšLTIMA</div>`;
  else if(p.discount) badge=`<div class="badge">-${p.discount}%</div>`;

  return `
  <div class="card" onclick="openDetail('${p.name}')">
    ${badge}
    <img src="${p.image}">
    <div>${p.name}</div>
    ${p.discount?`<div class="price">S/ ${p.price}</div>`:""}
    <div class="final">S/ ${p.finalPrice}</div>
  </div>`;
}

/* ================= DETAIL ================= */
function openDetail(name){
  const p=findProduct(name);
  document.getElementById("home").innerHTML="";
  const d=document.getElementById("detail");
  d.style.display="block";
  d.innerHTML=`
    <button onclick="goHome()">â¬… Volver</button>
    <h2>${p.name}</h2>
    <img src="${p.image}" style="max-width:300px">
    <div>Precio: S/ ${p.finalPrice}</div>
    <div>Stock: ${p.stock}</div>
    <button onclick="buy('${p.name}')">Comprar por WhatsApp</button>
  `;
}

function buy(name){
  window.open(`https://wa.me/?text=${encodeURIComponent("Hola quiero comprar "+name)}`);
}

/* ================= SEARCH ================= */
function searchAll(){
  const q=document.getElementById("search").value.toLowerCase();
  if(!q){ goHome(); return; }

  const home=document.getElementById("home");
  home.innerHTML="";

  Object.keys(DATA).forEach(cat=>{
    if(cat.toLowerCase().includes(q)){
      home.innerHTML+=`
      <div class="section">
        <h2>${cat}</h2>
        <div class="slider">
          ${DATA[cat].map(p=>cardHTML(p)).join("")}
        </div>
      </div>`;
    }else{
      const matches=DATA[cat].filter(p=>p.name.toLowerCase().includes(q));
      if(matches.length){
        home.innerHTML+=`
        <div class="section">
          <h2>${cat}</h2>
          <div class="slider">
            ${matches.map(p=>cardHTML(p)).join("")}
          </div>
        </div>`;
      }
    }
  });
}

/* ================= CATEGORIES ================= */
function renderCategories(){
  const c=document.getElementById("categories");
  c.innerHTML=Object.keys(DATA).map(cat=>
    `<div onclick="filterCat('${cat}')">${cat}</div>`
  ).join("");
}

function toggleCategories(){
  const c=document.getElementById("categories");
  c.style.display=c.style.display==="block"?"none":"block";
}

document.body.onclick=e=>{
  if(!e.target.classList.contains("menu-btn")){
    document.getElementById("categories").style.display="none";
  }
};

function filterCat(cat){
  const home=document.getElementById("home");
  home.innerHTML=`
  <div class="section">
    <h2>${cat}</h2>
    <div class="slider">
      ${DATA[cat].map(p=>cardHTML(p)).join("")}
    </div>
  </div>`;
}

/* ================= HELPERS ================= */
function findProduct(name){
  for(const cat in DATA){
    const p=DATA[cat].find(x=>x.name===name);
    if(p) return p;
  }
}
function goHome(){
  document.getElementById("detail").style.display="none";
  renderAll();
}

/* INIT */
renderAll();
</script>

</body>
</html>
